/*!
 * Carbon.Frontend - created by Jon Uhlmann
 * @build 2018-07-23 17:20
 * @link https://github.com/CarbonPackages/Carbon.Frontend
 */
!function(){"use strict";var e,t=(function(e){!function(){var t,n=0,o=0,i={},c={};function r(e,o,i){return"_root"==o?i:e!==i?function(e){return t||(t=e.matches?e.matches:e.webkitMatchesSelector?e.webkitMatchesSelector:e.mozMatchesSelector?e.mozMatchesSelector:e.msMatchesSelector?e.msMatchesSelector:e.oMatchesSelector?e.oMatchesSelector:l.matchesSelector)}(e).call(e,o)?e:e.parentNode?(n++,r(e.parentNode,o,i)):void 0:void 0}function a(e,t,n,o){i[e.id]||(i[e.id]={}),i[e.id][t]||(i[e.id][t]={}),i[e.id][t][n]||(i[e.id][t][n]=[]),i[e.id][t][n].push(o)}function s(e,t,n,o){if(i[e.id])if(t)if(o||n)if(o){if(i[e.id][t][n])for(var c=0;c<i[e.id][t][n].length;c++)if(i[e.id][t][n][c]===o){i[e.id][t][n].splice(c,1);break}}else delete i[e.id][t][n];else i[e.id][t]={};else for(var r in i[e.id])i[e.id].hasOwnProperty(r)&&(i[e.id][r]={})}function u(e,t,o,u){if(this.element){e instanceof Array||(e=[e]),o||"function"!=typeof t||(o=t,t="_root");var d,f=this.id;for(d=0;d<e.length;d++)u?s(this,e[d],t,o):(i[f]&&i[f][e[d]]||l.addEvent(this,e[d],h(e[d])),a(this,e[d],t,o));return this}function h(e){return function(t){!function(e,t,o){if(i[e][o]){var a,s,u=t.target||t.srcElement,d={},f=0,h=0;for(a in n=0,i[e][o])i[e][o].hasOwnProperty(a)&&(s=r(u,a,c[e].element))&&l.matchesEvent(o,c[e].element,s,"_root"==a,t)&&(n++,i[e][o][a].match=s,d[n]=i[e][o][a]);for(t.stopPropagation=function(){t.cancelBubble=!0},f=0;f<=n;f++)if(d[f])for(h=0;h<d[f].length;h++){if(!1===d[f][h].call(d[f].match,t))return void l.cancel(t);if(t.cancelBubble)return}}}(f,t,e)}}}function l(e,t){if(!(this instanceof l)){for(var n in c)if(c[n].element===e)return c[n];return c[++o]=new l(e,o),c[o]}this.element=e,this.id=t}l.prototype.on=function(e,t,n){return u.call(this,e,t,n)},l.prototype.off=function(e,t,n){return u.call(this,e,t,n,!0)},l.matchesSelector=function(){},l.cancel=function(e){e.preventDefault(),e.stopPropagation()},l.addEvent=function(e,t,n){var o="blur"==t||"focus"==t;e.element.addEventListener(t,n,o)},l.matchesEvent=function(){return!0},e.exports&&(e.exports=l),window.Gator=l}()}(e={exports:{}},e.exports),e.exports);function n(e,t){return e&&"string"==typeof t&&1==e.nodeType?(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t):(console.warn("Wrong or missing arguments in function `matches`"),null)}function o(e){return 1==e.nodeType}var i=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},c={key:{tab:9,escape:27},selector:{header:".page-header",navigation:".page-navigation",hamburger:".hamburger-icon",focusable:["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]","[tabindex]:not([tabindex^='-'])"].join(","),openOnTap:".nav-element.-hassub > a.nav-link.-level1"},menuOpen:"-menuopen",htmlElement:document.documentElement,body:document.body,isTouch:"ontouchstart"in document.documentElement,focusWithin:document};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.selector,a=void 0===r?{}:r,s=e.menuOpen,u=void 0===s?c.menuOpen:s,l=e.focusWithin,d=void 0===l?c.focusWithin:l,f=e.isTouch,h=void 0===f?c.isTouch:f,m=Object.assign({},c.selector,a),p=void 0,v=void 0,b=void 0,y=[],g=[],w=!1,S=[];function E(){S.forEach(function(e){e.blur()})}function M(){if(b){var e=window.getComputedStyle(b);"none"==e.display||"0"==e.opacity||"hidden"==e.visibility?(A(!1),O(!0)):c.body.classList.contains(u)||O(!1)}}function O(e){g.forEach(function(t){t.tabIndex=e?0:-1})}function T(e){w&&!p.contains(e.target)&&y.length&&y[0].focus()}function k(e){w&&(e.which===c.key.escape&&(e.preventDefault(),A()),e.which===c.key.tab&&function(e){var t=y.indexOf(document.activeElement);e.shiftKey&&0===t?(y[y.length-1].focus(),e.preventDefault()):e.shiftKey||t!==y.length-1||(y[0].focus(),e.preventDefault())}(e))}function x(e){var t=void 0,n={header:p,hamburger:b,navigation:v,focusable:y,focusableNav:g,select:m};window.CustomEvent?t=new CustomEvent(e,{detail:n}):(t=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),document.dispatchEvent(t)}function A(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];w=!1,e&&O(!1),c.body.classList.remove(u),window.scrollTo(0,-1*parseInt(c.body.style.top)),c.body.style.top="";try{t(c.body).off("focus",T)}catch(e){}try{t(document).off("keydown",k)}catch(e){}x("mobileMenu.close")}!function(e){var t=!0;function n(n){t&&("function"==typeof e&&e(n),t=!1)}"loading"==document.readyState?document.addEventListener("readystatechange",n):n()}(function(){c.body.classList.contains(u)&&(w=!0),(p=document.querySelector(m.header))&&(b=p.querySelector(m.hamburger),v=p.querySelector(m.navigation),y=[].concat(i(p.querySelectorAll(m.focusable))),v&&(g=[].concat(i(v.querySelectorAll(m.focusable))),m.openOnTap&&h&&(S=[].concat(i(v.querySelectorAll(m.openOnTap))))),M())}),t(window).on("resize",M),t(c.htmlElement).on("click",m.hamburger,function(){w?A():(w=!0,O(!0),c.body.style.top="-"+window.pageYOffset+"px",c.body.classList.add(u),t(c.body).on("focus",T),t(document).on("keydown",k),x("mobileMenu.open")),this.blur()}),m.openOnTap&&h&&t(c.htmlElement).on("touchend",function(e){if(!w){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c="string"==typeof t;if(!e||1!=e.nodeType||!c&&!o(t))return console.warn("Wrong or missing arguments in function `bubbleUntil`"),null;for(var r=[e];c?!n(e,t):e!=t;)if(e=e.parentNode,r.push(e),!o(e))return!1;return i?r:e}(e.target,m.openOnTap);t?t.parentNode.classList.contains(cssClasses.focus)||(e.preventDefault(),e.stopPropagation(),E(),setTimeout(function(){t.focus()},0)):E()}}),d&&d(d)}()}();

//# sourceMappingURL=MobileMenu.js.map
